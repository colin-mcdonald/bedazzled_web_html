/* Bedazzled website - CSS
 * (c) 2016 Bedazzled Dance Champions, Inc.
 */

// ---------- Variables/constants ----------

@white: #FFF;
@transparent-white: rgba(255, 255, 255, 0.5);
@pink: #F0F;
@black: #000;
@transparent-black: rgba(0, 0, 0, 0.5);

@carousel-slidebtn-size: 12px;
@carousel-slidebtn-bordradi: (@carousel-slidebtn-size / 2);

@main-title-size: 60pt;
@main-subtitle-size: 24pt;

@top-border-radius: 8px;
@mid-width: 1000px;

@bs-lg: 1200px;
@bs-container-lg: 1170px;
@bs-md: 992px;
@bs-container-md: 970px;
@bs-sm: 768px;
@bs-container-sm: 750px;

@shows-carousel-height: 250px;

// ---------- Mixins ----------
.carousel-slidebtn() {
  border: 0;
  margin: @carousel-slidebtn-bordradi;
  border-radius: @carousel-slidebtn-bordradi;
  width: @carousel-slidebtn-size;
  height: @carousel-slidebtn-size;
}

.before_after_line() {
  content: "";
  display: block;
}

// ---------- Bedazzled-specific stuff ----------
.bedazzled-- {
  &main-top {
    border-top-left-radius: @top-border-radius;
    border-top-right-radius: @top-border-radius;
    position: relative;
    @media (max-width: (@bs-sm - 1)) { // Phone
      margin-top: -20px;
    }
    @media (min-width: @bs-sm) and (max-width: (@bs-md - 1)) { // Tablet
      margin-top: -80px;
    }
    @media (min-width: @bs-md) { // Desktop+
      margin-top: -120px;
    }
    > .row {
      margin-top: 20px;
    }
  }
  &carousel {
    > ol.carousel-indicators > li {
      background-color: @transparent-white;
      .carousel-slidebtn;
      &.active {
        .carousel-slidebtn;
        background-color: @white;
      }
    }
  }
  &container {
    .bedazzled--featurette {
      @media (max-width: @bs-sm) {
        margin: 15px 0;
      }
      &-plain {
        @media (max-width: @bs-sm) {
          margin: 15px 0;
        }
      }
    }
  }
  &head-main-titles {
    margin-bottom: 120px;
    > h1, > h2 {
      color: @white;
      line-height: 0.7em;
    }
    > h1 {
      font-size: @main-title-size;
    }
    > h2 {
      font-size: @main-subtitle-size;
    }
  }
  &head-main-button {
    margin-left: 10px;
    > .btn {
      border-width: 0;
      border-radius: 4px;
      color: @pink;
    }
  }
  &featurette {
    position: relative;
    display: block;
    h1 {
      font-size: 12pt;
      color: @white;
      position: absolute;
      bottom: 0;
      margin: 0;
      padding-top: 10px;
      background-color: @transparent-black;
      width: 100%;
      text-align: center;
      height: 40px;
      vertical-align: bottom;
    }
  }
  &featurette-plain {
    display: block;
    background-color: @black;
    color: @white;
    font-size: 32pt;
    text-align: center;
    width: 100%;
    @media (min-width: @bs-lg) {
      @eiwheight: ( (image-height("../images/rules_regulations.png") / image-width("../images/rules_regulations.png")) * @bs-container-lg / 3 - 30 );
      height: @eiwheight;
      padding-top: (@eiwheight / 2 - 32pt);
    }
    @media (min-width: @bs-md) and (max-width: (@bs-lg - 1)) {
      @eiwheight: ( (image-height("../images/rules_regulations.png") / image-width("../images/rules_regulations.png")) * @bs-container-md / 3 - 30 );
      height: @eiwheight;
      padding-top: (@eiwheight / 2 - 32pt);
    }
    @media (min-width: @bs-sm) and (max-width: (@bs-md - 1)) {
      @eiwheight: ( (image-height("../images/rules_regulations.png") / image-width("../images/rules_regulations.png")) * @bs-container-sm / 3 - 30 );
      height: @eiwheight;
      padding-top: (@eiwheight / 2 - 32pt);
      font-size: 24pt;
    }
    @media (max-width: (@bs-sm - 1)) {
      height: 280px;
      padding-top: (140px - 32pt);
    }
    &:hover, &:active, &:focus {
      color: @white;
      text-decoration: none;
    }
    &::after {
      .before_after_line();
      background-color: @white;
      margin: 12px auto;
      transition: width 0.2s ease-in-out 0s;
      width: 120px;
      height: 6px;
      @media (min-width: @bs-sm) and (max-width: (@bs-md - 1)) { // Tablet
        width: 70px;
        height: 4px;
      }
    }
    &:hover::after {
      width: 200px;
      @media (min-width: @bs-sm) and (max-width: (@bs-md - 1)) { // Tablet
        width: 120px;
      }
    }
  }
  &main-foot {
    background-color: @black;
    color: @white;
    &-row {
      margin-top: 100px;
      margin-bottom: 50px;
      @media (max-width: @bs-sm) {
        margin-top: 50px;
        margin-bottom: 0;
        > .col-sm-4 {
          margin: 30px auto;
        }
      }
    }
    &-titles {
      > h1, > h2 {
        color: @white;
        line-height: 0.35em;
      }
      > h1 {
        font-size: (@main-title-size / 2);
      }
      > h2 {
        font-size: (@main-subtitle-size / 2);
      }
    }
    &-dots {
      @media (min-width: @bs-lg) {
        margin-left: 120px;
      }
      > .dot {
        background-color: @transparent-white;
        width: 40px;
        height: 40px;
        border-radius: 20px;
        display: inline-block;
        margin: 5px;
        position: relative;
        &.active {
          background-color: @white;
        }
        > .fa {
          color: @black;
          position: absolute;
          left: 10px;
          top: 12px;
        }
      }
    }
  }
  &main-bottom {
    border-bottom-left-radius: @top-border-radius;
    border-bottom-right-radius: @top-border-radius;
    margin-bottom: -20px;
    position: relative;
    .first-row {
      margin-top: 20px;
      margin-bottom: 20px;
    }
    .second-row {
      margin-top: 20px;
      margin-bottom: 20px;
    }
  }
  &main-shows {
    background-color: @white;
  }
  &shows {
    .item {
      > h1 {
        font-size: 20pt;
        font-weight: bold;
      }
      > h2 {
        font-size: 14pt;
        font-weight: bold;
      }
      > h3 {
        font-size: 14pt;
      }
      @media (max-width: @bs-sm) {
        border-top: 1px solid black;
        border-bottom: 1px solid black;
      }
    }
  }
}

#bedazzled--main-shows-xs {
  > a[data-toggle=collapse] {
    color: @black;
    font-size: 200%;
    text-align: center;
    display: block;
    &:hover, &:visited, &:active, &:focus {
      color: @black;
      text-decoration: none;
    }
  }
}

// Multi-item carousel
.multicarousel {
  position: relative;
  @media (min-width: @bs-md) {
    height: @shows-carousel-height;
  }
  & > &-control {
    opacity: 1.0;
    color: #BBB;
    display: block;
    position: absolute;
    height: auto;
    top: 0;
    bottom: 0;
    width: 85px;
    height: @shows-carousel-height;
    &:hover {
      color: (#BBB / 2);
      text-decoration: none;
    }
    &.left {
      left: 0;
      text-align: right;
    }
    &.right {
      right: 0;
    }
    > span[aria-hidden] {
      font-weight: bold;
      font-size: 60pt;
      line-height: @shows-carousel-height;
    }
  }
  & > &-inner {
    // This will not be visible on mobile phones.
    @media (min-width: @bs-sm) and (max-width: (@bs-md - 1)) {
      width: @bs-container-sm;
    }
    @media (min-width: @bs-md) and (max-width: (@bs-lg - 1)) {
      width: @bs-container-md;
    }
    @media (min-width: @bs-lg) {
      width: @bs-container-lg;
    }
    @media (min-width: @bs-sm) {
      height: @shows-carousel-height;
      margin: 10px auto;
      position: relative;
      overflow: hidden;
      > .item {
        width: 25%;
        height: @shows-carousel-height;
        position: absolute;
        transition: left 1s ease-in-out 0s;
        top: 0;
        .mc_line() {
          background-color: @black;
          width: 2px;
          height: 240px;
          position: absolute;
          top: 0;
        }
        &.hidden {
          display: none;
        }
        &::before {
          .before_after_line();
          .mc_line();
          left: -1px;
        }
        &::after {
          .before_after_line();
          .mc_line();
          right: -1px;
        }
      } // /.item
    }
    @media (max-width: (@bs-md - 1)) {
      overflow: scroll;
    }
  }
}

body>.container-fluid {
  &.bedazzled--main-foot {
  }
}

// ---------- Bootstrap stuff ----------
.navbar {
  border: 0;
  margin: 0;
  &.navbar-inverse {
    background-color: @black;
  }
}

.navbar-nav > .active > a {
  border-bottom: 3px solid white;
  background-color: transparent;
}

body {
  background-color: #EEE;
  > .container {
    background-color: #FFF;
  }
}

.img-responsive { // Vertically-responsive image.
  @media (max-width: @bs-sm) {
    width: 100%;
  }
}
